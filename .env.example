# PRISMA by MADFAM - Environment Configuration
# Copy this file to .env.local and fill in your actual values

# ================================
# Next.js Configuration
# ================================
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# ================================
# Supabase Configuration
# ================================
# Get these from: https://app.supabase.com/project/[PROJECT_ID]/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://[PROJECT_ID].supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...

# For local development with Supabase CLI
SUPABASE_DB_URL=postgresql://postgres:postgres@localhost:54322/postgres

# ================================
# AI Services Configuration
# ================================
# OpenAI API Key - Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# Anthropic Claude API Key (Optional) - Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# ================================
# OAuth Provider Configuration
# ================================
# LinkedIn OAuth - Get from: https://www.linkedin.com/developers/apps
LINKEDIN_CLIENT_ID=your_linkedin_client_id
LINKEDIN_CLIENT_SECRET=your_linkedin_client_secret

# GitHub OAuth - Get from: https://github.com/settings/developers
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# ================================
# Payment Processing (Stripe)
# ================================
# Stripe Configuration - Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ================================
# Caching & Performance
# ================================
# Redis Configuration (Upstash) - Get from: https://console.upstash.com/
REDIS_URL=redis://default:password@host:port
REDIS_TOKEN=your_redis_token

# ================================
# Monitoring & Analytics
# ================================
# Sentry Error Tracking (Optional) - Get from: https://sentry.io/
SENTRY_DSN=https://...@sentry.io/...

# PostHog Analytics (Optional) - Get from: https://posthog.com/
NEXT_PUBLIC_POSTHOG_KEY=phc_...
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# ================================
# Email Service (Optional)
# ================================
# Resend API Key for transactional emails - Get from: https://resend.com/
RESEND_API_KEY=re_...
EMAIL_FROM=noreply@prisma.madfam.io

# ================================
# File Storage Configuration
# ================================
# AWS S3 (Optional - if not using Supabase Storage)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-bucket-name

# ================================
# Development & Testing
# ================================
# JWT Secret for development
JWT_SECRET=your-super-secret-jwt-key-for-development

# Database URL for testing
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:54322/test_db

# ================================
# Feature Flags
# ================================
# Enable/disable features during development
FEATURE_AI_CONTENT_GENERATION=true
FEATURE_LINKEDIN_IMPORT=true
FEATURE_GITHUB_IMPORT=true
FEATURE_PAYMENT_PROCESSING=true
FEATURE_CUSTOM_DOMAINS=false
FEATURE_ANALYTICS_DASHBOARD=false

# ================================
# Rate Limiting
# ================================
# API rate limiting configuration
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# ================================
# Security Configuration
# ================================
# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://localhost:3000

# Cookie security settings
SECURE_COOKIES=false
SAME_SITE_COOKIES=lax

# ================================
# Production Overrides
# ================================
# These should be set differently in production

# Production URLs
# NEXT_PUBLIC_APP_URL=https://app.prisma.madfam.io
# NEXT_PUBLIC_SITE_URL=https://prisma.madfam.io

# Production Security
# SECURE_COOKIES=true
# SAME_SITE_COOKIES=strict

# Production Supabase
# NEXT_PUBLIC_SUPABASE_URL=https://[PROD_PROJECT_ID].supabase.co
# SUPABASE_SERVICE_ROLE_KEY=your_production_service_role_key

# Production Stripe
# STRIPE_SECRET_KEY=sk_live_...
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_...

# ================================
# Notes
# ================================
# 1. Never commit .env.local or any file with real credentials to git
# 2. Use different API keys for development, staging, and production
# 3. Rotate secrets regularly
# 4. Use strong, unique passwords for all services
# 5. Enable 2FA on all service accounts